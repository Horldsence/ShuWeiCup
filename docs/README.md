# ShuWeiCamp æ–‡æ¡£æ€»è§ˆ

æœ¬ç›®å½•åŒ…å« ShuWeiCamp å†œä½œç‰©ç—…å®³è¯†åˆ«ç³»ç»Ÿçš„å®Œæ•´æ–‡æ¡£ï¼Œæ¶µç›–å››ä¸ªæ ¸å¿ƒä»»åŠ¡çš„è¯¦ç»†è¯´æ˜ã€‚

---

## ğŸ“š æ–‡æ¡£ç»„ç»‡ç»“æ„

æ¯ä¸ªä»»åŠ¡ï¼ˆTask 1-4ï¼‰çš„æ–‡æ¡£éµå¾ªç»Ÿä¸€çš„ç»„ç»‡åŸåˆ™ï¼š

```
docs/
â”œâ”€â”€ DOCUMENTATION_GUIDE.md      # æ–‡æ¡£ç»„ç»‡æŒ‡å—ï¼ˆå¦‚ä½•é˜…è¯»å’Œä½¿ç”¨æ–‡æ¡£ï¼‰
â”œâ”€â”€ task1/
â”‚   â”œâ”€â”€ README.md               # åŸç†ä¸è®¾è®¡ï¼ˆç†è®ºã€æ¨å¯¼ã€æ¶æ„ï¼‰
â”‚   â””â”€â”€ training_guide.md       # æ¥å£ä¸ä½¿ç”¨ï¼ˆå‚æ•°ã€ç¤ºä¾‹ã€è°ƒä¼˜ï¼‰
â”œâ”€â”€ task2/
â”‚   â”œâ”€â”€ README.md               # åŸç†ä¸è®¾è®¡
â”‚   â””â”€â”€ training_guide.md       # æ¥å£ä¸ä½¿ç”¨
â”œâ”€â”€ task3/
â”‚   â”œâ”€â”€ README.md               # åŸç†ä¸è®¾è®¡ï¼ˆå¾…è¡¥å……ï¼‰
â”‚   â””â”€â”€ training_guide.md       # æ¥å£ä¸ä½¿ç”¨
â””â”€â”€ task4/
    â”œâ”€â”€ README.md               # åŸç†ä¸è®¾è®¡
    â””â”€â”€ training_guide.md       # æ¥å£ä¸ä½¿ç”¨
```

---

## ğŸ¯ å¿«é€Ÿå¯¼èˆª

### æŒ‰éœ€æ±‚é€‰æ‹©

| ä½ çš„éœ€æ±‚ | æ¨èé˜…è¯» |
|---------|---------|
| **å¿«é€Ÿä¸Šæ‰‹è®­ç»ƒæ¨¡å‹** | ç›´æ¥é˜…è¯»å„ task çš„ `training_guide.md` |
| **ç†è§£ç®—æ³•åŸç†** | å…ˆè¯» `README.md`ï¼Œå†çœ‹ `training_guide.md` |
| **è°ƒä¼˜è¶…å‚æ•°** | README.mdï¼ˆç†è®ºä¾æ®ï¼‰+ training_guide.mdï¼ˆå‚æ•°èŒƒå›´ï¼‰ |
| **æ”¹è¿›æ¨¡å‹æ¶æ„** | æ·±å…¥é˜…è¯» `README.md` çš„è®¾è®¡éƒ¨åˆ† |
| **å¤ç°è®ºæ–‡** | é˜…è¯» README.md çš„å‚è€ƒæ–‡çŒ® + å®Œæ•´é…ç½® |

---

## ğŸ“– ä»»åŠ¡è¯´æ˜

### Task 1: 61ç±»å†œä½œç‰©ç—…å®³åˆ†ç±»

**ç›®æ ‡**ï¼šä»ä½œç‰©å¶ç‰‡å›¾åƒä¸­è¯†åˆ« 61 ç§ç—…å®³ç±»å‹

**æ ¸å¿ƒæŠ€æœ¯**ï¼š
- CosineClassifierï¼ˆä½™å¼¦åˆ†ç±»å™¨ï¼‰
- Center Lossï¼ˆä¸­å¿ƒæŸå¤±ï¼‰
- Mixup + CutMixï¼ˆæ•°æ®å¢å¼ºï¼‰
- åŠ æƒé‡‡æ ·ï¼ˆå¤„ç†é•¿å°¾åˆ†å¸ƒï¼‰
- æ¸è¿›å¼åˆ†è¾¨ç‡è°ƒæ•´
- ModelEMAï¼ˆæŒ‡æ•°ç§»åŠ¨å¹³å‡ï¼‰

**æ–‡æ¡£**ï¼š
- [åŸç†ä¸è®¾è®¡](task1/README.md) - é•¿å°¾åˆ†å¸ƒå¤„ç†ã€æŸå¤±å‡½æ•°è®¾è®¡
- [ä½¿ç”¨æŒ‡å—](task1/training_guide.md) - å‘½ä»¤è¡Œå‚æ•°ã€å®Œæ•´ç¤ºä¾‹

**å¿«é€Ÿå¼€å§‹**ï¼š
```bash
python task1train.py \
    --train-meta data/cleaned/metadata/train_metadata.csv \
    --val-meta data/cleaned/metadata/val_metadata.csv \
    --epochs 50 --batch-size 64 --lr 3e-4
```

---

### Task 2: å°‘æ ·æœ¬å­¦ä¹ 

**ç›®æ ‡**ï¼šåœ¨æ¯ç±»ä»…æœ‰ 5-20 ä¸ªæ ·æœ¬çš„æƒ…å†µä¸‹å®Œæˆ 61 ç±»åˆ†ç±»

**æ ¸å¿ƒæŠ€æœ¯**ï¼š
- ArcFace Headï¼ˆè§’åº¦è¾¹ç•Œåˆ†ç±»ï¼‰
- Prototypical Networkï¼ˆåŸå‹ç½‘ç»œï¼‰
- åŸå‹ EMA æ›´æ–°
- å»¶è¿Ÿè§£å†»ï¼ˆDelayed Unfreezeï¼‰
- åº¦é‡å­¦ä¹ ï¼ˆMetric Learningï¼‰

**æ–‡æ¡£**ï¼š
- [åŸç†ä¸è®¾è®¡](task2/README.md) - ArcFaceæ¨å¯¼ã€åŸå‹ç½‘ç»œç†è®ºï¼ˆå¾…å®Œå–„ï¼‰
- [ä½¿ç”¨æŒ‡å—](task2/training_guide.md) - å°‘æ ·æœ¬åœºæ™¯å‚æ•°é…ç½®

**å¿«é€Ÿå¼€å§‹**ï¼š
```bash
python task2train.py \
    --train-meta data/cleaned/metadata/train_metadata_fewshot_10.csv \
    --val-meta data/cleaned/metadata/val_metadata.csv \
    --epochs 50 --batch-size 8 --lr 3e-4 \
    --proto-weight 0.4 --arcface-margin 0.30
```

---

### Task 3: ç—…å®³ä¸¥é‡åº¦åˆ†çº§

**ç›®æ ‡**ï¼šå°†ç—…å®³åˆ†ä¸º 4 ä¸ªä¸¥é‡ç¨‹åº¦ç­‰çº§ï¼ˆHealthy, Mild, Moderate, Severeï¼‰

**æ ¸å¿ƒæŠ€æœ¯**ï¼š
- ç¡®å®šæ€§å“ˆå¸Œæ˜ å°„ï¼ˆ3çº§â†’4çº§ï¼‰
- Grad-CAM å¯è§†åŒ–
- ç±»åˆ«æƒé‡ï¼ˆinverse, sqrt, balancedï¼‰
- æ¸©åº¦æ ¡å‡†ï¼ˆTemperature Scalingï¼‰
- æ¨¡å‹å¯è§£é‡Šæ€§åˆ†æ

**æ–‡æ¡£**ï¼š
- [åŸç†ä¸è®¾è®¡](task3/README.md) - å¾…è¡¥å……
- [ä½¿ç”¨æŒ‡å—](task3/training_guide.md) - Grad-CAMä½¿ç”¨ã€æƒé‡ç­–ç•¥

**å¿«é€Ÿå¼€å§‹**ï¼š
```bash
python task3train.py \
    --train-meta data/cleaned/metadata/train_metadata.csv \
    --val-meta data/cleaned/metadata/val_metadata.csv \
    --epochs 30 --batch-size 64 --lr 3e-4 \
    --use-class-weights --gradcam-samples 12
```

---

### Task 4: å¤šä»»åŠ¡è”åˆå­¦ä¹ ä¸å¯è§£é‡Šè¯Šæ–­

**ç›®æ ‡**ï¼šåŒæ—¶å­¦ä¹  4 ä¸ªä»»åŠ¡ï¼ˆ61ç±»åˆ†ç±»ã€ä½œç‰©åˆ†ç±»ã€ç—…å®³åˆ†ç±»ã€ä¸¥é‡åº¦åˆ†çº§ï¼‰ï¼Œç”Ÿæˆå¯è§£é‡Šè¯Šæ–­æŠ¥å‘Š

**æ ¸å¿ƒæŠ€æœ¯**ï¼š
- Multi-Task Learningï¼ˆHard Parameter Sharingï¼‰
- åŠ¨æ€ä»»åŠ¡æƒé‡ï¼ˆLoss-Based, GradNormï¼‰
- ååŒæ•ˆåº”éªŒè¯
- ç»“æ„åŒ–è¯Šæ–­æŠ¥å‘Š
- å¤šä»»åŠ¡ Grad-CAM

**æ–‡æ¡£**ï¼š
- [åŸç†ä¸è®¾è®¡](task4/README.md) - å¤šä»»åŠ¡å­¦ä¹ ç†è®ºã€æƒé‡ä¼˜åŒ–æ¨å¯¼
- [ä½¿ç”¨æŒ‡å—](task4/training_guide.md) - å®Œæ•´å‚æ•°è¯´æ˜ã€è¯Šæ–­æŠ¥å‘Šæ ¼å¼

**å¿«é€Ÿå¼€å§‹**ï¼š
```bash
python task4train.py \
    --train-meta data/cleaned/metadata/train_metadata.csv \
    --val-meta data/cleaned/metadata/val_metadata.csv \
    --epochs 25 --batch-size 64 --lr 3e-4 \
    --dynamic-task-weights --report-samples 50
```

---

## ğŸ” æ–‡æ¡£é˜…è¯»é¡ºåºå»ºè®®

### åˆå­¦è€…è·¯å¾„

1. **å…ˆè¯»æ–‡æ¡£æŒ‡å—**ï¼š[DOCUMENTATION_GUIDE.md](DOCUMENTATION_GUIDE.md)
2. **ä» Task 1 å¼€å§‹**ï¼šç†è§£åŸºç¡€åˆ†ç±»ä»»åŠ¡
3. **é€æ­¥æ·±å…¥**ï¼šTask 2ï¼ˆå°‘æ ·æœ¬ï¼‰â†’ Task 3ï¼ˆå¯è§£é‡Šæ€§ï¼‰â†’ Task 4ï¼ˆå¤šä»»åŠ¡ï¼‰
4. **æ¯ä¸ª Task**ï¼šå…ˆçœ‹ training_guide.md è·‘é€šä»£ç ï¼Œå†è¯» README.md ç†è§£åŸç†

### è¿›é˜¶å¼€å‘è€…è·¯å¾„

1. **ç›´æ¥é˜…è¯»æ„Ÿå…´è¶£ä»»åŠ¡çš„ README.md**
2. **å¯¹æ¯”ä¸åŒ Task çš„è®¾è®¡å†³ç­–**
3. **å‚è€ƒ training_guide.md è¿›è¡Œå®éªŒ**
4. **æ ¹æ®éœ€æ±‚ä¿®æ”¹å’Œæ‰©å±•**

### ç ”ç©¶äººå‘˜è·¯å¾„

1. **é˜…è¯»æ‰€æœ‰ README.md çš„ç†è®ºéƒ¨åˆ†**
2. **å…³æ³¨å‚è€ƒæ–‡çŒ®å’Œæ•°å­¦æ¨å¯¼**
3. **ä½¿ç”¨ training_guide.md å¤ç°ç»“æœ**
4. **è¿›è¡Œæ¶ˆèå®éªŒå’Œæ”¹è¿›**

---

## ğŸ“Š æ–‡æ¡£å®Œæˆåº¦

| Task | README.md | training_guide.md | å®Œæˆåº¦ |
|------|-----------|-------------------|--------|
| Task 1 | âœ… å®Œæ•´ | âœ… å®Œæ•´ | 100% |
| Task 2 | âš ï¸ å¾…å®Œå–„ | âœ… å®Œæ•´ | 80% |
| Task 3 | âŒ å¾…è¡¥å…… | âœ… å®Œæ•´ | 60% |
| Task 4 | âœ… å®Œæ•´ | âœ… å®Œæ•´ | 100% |

**è¯´æ˜**ï¼š
- âœ… å®Œæ•´ï¼šåŒ…å«ç†è®ºæ¨å¯¼ã€è®¾è®¡å†³ç­–ã€å®Œæ•´ç¤ºä¾‹
- âš ï¸ å¾…å®Œå–„ï¼šåŸºæœ¬å†…å®¹å·²æœ‰ï¼Œéœ€è¡¥å……ç†è®ºæ¨å¯¼
- âŒ å¾…è¡¥å……ï¼šç¼ºå°‘ç‹¬ç«‹çš„åŸç†æ–‡æ¡£

---

## ğŸ“ ä¸»è¦å†…å®¹å¯¹ç…§è¡¨

### README.md åŒ…å«å†…å®¹ï¼ˆåŸç†ï¼‰

| å†…å®¹ç±»å‹ | Task 1 | Task 2 | Task 3 | Task 4 |
|---------|-------|-------|-------|-------|
| ç†è®ºåŸºç¡€ | âœ… | âš ï¸ | âŒ | âœ… |
| æ•°å­¦æ¨å¯¼ | âœ… | âš ï¸ | âŒ | âœ… |
| æ¶æ„è®¾è®¡ | âœ… | âš ï¸ | âŒ | âœ… |
| è®¾è®¡å†³ç­– | âœ… | âš ï¸ | âŒ | âœ… |
| å‚è€ƒæ–‡çŒ® | âœ… | âš ï¸ | âŒ | âœ… |

### training_guide.md åŒ…å«å†…å®¹ï¼ˆæ¥å£ï¼‰

| å†…å®¹ç±»å‹ | Task 1 | Task 2 | Task 3 | Task 4 |
|---------|-------|-------|-------|-------|
| å¿«é€Ÿå¼€å§‹ | âœ… | âœ… | âœ… | âœ… |
| å‚æ•°è¯¦è§£ | âœ… | âœ… | âœ… | âœ… |
| ä½¿ç”¨ç¤ºä¾‹ | âœ… | âœ… | âœ… | âœ… |
| è¾“å‡ºè¯´æ˜ | âœ… | âœ… | âœ… | âœ… |
| è°ƒä¼˜å»ºè®® | âœ… | âœ… | âœ… | âœ… |
| å¸¸è§é—®é¢˜ | âœ… | âœ… | âœ… | âœ… |

---

## ğŸ› ï¸ å¾…å®Œå–„å·¥ä½œ

### Task 2 README.md éœ€è¡¥å……

- [ ] ArcFace å®Œæ•´æ•°å­¦æ¨å¯¼
- [ ] Prototypical Network ç†è®ºèƒŒæ™¯
- [ ] åº¦é‡å­¦ä¹ åŸºç¡€ç†è®º
- [ ] å°‘æ ·æœ¬å­¦ä¹ çš„æ³›åŒ–ç•Œåˆ†æ
- [ ] æ›´å¤šå‚è€ƒæ–‡çŒ®

### Task 3 éœ€åˆ›å»ºç‹¬ç«‹ README.md

- [ ] ç¡®å®šæ€§æ˜ å°„çš„ç†è®ºä¾æ®
- [ ] Grad-CAM æ•°å­¦æ¨å¯¼
- [ ] ç±»åˆ«ä¸å¹³è¡¡çš„ç†è®ºåˆ†æ
- [ ] æ¸©åº¦æ ¡å‡†åŸç†
- [ ] CAM çƒ­åŒºé¢ç§¯ä¼°è®¡ç®—æ³•

---

## ğŸ“š å‚è€ƒèµ„æ–™

### æ ¸å¿ƒè®ºæ–‡

1. **ArcFace**: Deng et al. "ArcFace: Additive Angular Margin Loss for Deep Face Recognition" (CVPR 2019)
2. **Prototypical Networks**: Snell et al. "Prototypical Networks for Few-shot Learning" (NeurIPS 2017)
3. **Multi-Task Learning**: Caruana, R. "Multitask Learning" (Machine Learning 1997)
4. **Grad-CAM**: Selvaraju et al. "Grad-CAM: Visual Explanations from Deep Networks" (ICCV 2017)
5. **Focal Loss**: Lin et al. "Focal Loss for Dense Object Detection" (ICCV 2017)
6. **Uncertainty Weighting**: Kendall et al. "Multi-Task Learning Using Uncertainty to Weigh Losses" (CVPR 2018)

### æ‰©å±•é˜…è¯»

- [timm æ–‡æ¡£](https://huggingface.co/docs/timm/index)
- [Albumentations æ–‡æ¡£](https://albumentations.ai/docs/)
- [PyTorch å®˜æ–¹æ•™ç¨‹](https://pytorch.org/tutorials/)

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®æ–‡æ¡£æ”¹è¿›ï¼

### è´¡çŒ®æ–¹å¼

1. **è¡¥å……ç¼ºå¤±å†…å®¹**ï¼šç‰¹åˆ«æ˜¯ Task 2 å’Œ Task 3 çš„ README.md
2. **æ”¹è¿›ç°æœ‰æ–‡æ¡£**ï¼šä¿®æ­£é”™è¯¯ã€ä¼˜åŒ–è¡¨è¿°ã€æ·»åŠ ç¤ºä¾‹
3. **æ·»åŠ å¯è§†åŒ–**ï¼šå›¾è¡¨ã€æµç¨‹å›¾ã€æ¶æ„å›¾
4. **ç¿»è¯‘**ï¼šè‹±æ–‡ç‰ˆæ–‡æ¡£ï¼ˆå¦‚æœ‰éœ€è¦ï¼‰

### æäº¤æŒ‡å—

- ç¡®ä¿æ•°å­¦å…¬å¼æ­£ç¡®æ— è¯¯
- ä»£ç ç¤ºä¾‹éœ€ç»è¿‡æµ‹è¯•
- ä¿æŒæ–‡æ¡£é£æ ¼ä¸€è‡´
- æ›´æ–°æ–‡æ¡£å®Œæˆåº¦è¡¨æ ¼

---

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®ä¸»é¡µ**ï¼š[GitHub Repository]
- **é—®é¢˜åé¦ˆ**ï¼šæäº¤ Issue
- **é‚®ä»¶è”ç³»**ï¼šç»´æŠ¤å›¢é˜Ÿé‚®ç®±

---

## ğŸ“„ è®¸å¯è¯

æœ¬æ–‡æ¡£é‡‡ç”¨ [CC BY-SA 4.0](https://creativecommons.org/licenses/by-sa/4.0/) è®¸å¯åè®®ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**æœ€åæ›´æ–°**ï¼š2024å¹´11æœˆ  
**ç»´æŠ¤è€…**ï¼šShuWeiCamp Team

---

## ğŸ‰ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬æ–‡æ¡£åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç ”ç©¶äººå‘˜ï¼